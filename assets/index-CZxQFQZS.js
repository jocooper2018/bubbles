(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}})();const b=(o,t)=>Math.sqrt(Math.pow(o,2)+Math.pow(t,2));class e{static get ZERO(){return new e(0,0)}static get TOP(){return new e(0,-1)}static get BOTTOM(){return new e(0,1)}static get LEFT(){return new e(-1,0)}static get RIGHT(){return new e(1,0)}static get TOP_LEFT(){return new e(-1,-1).normalized}static get TOP_RIGHT(){return new e(1,-1).normalized}static get BOTTOM_LEFT(){return new e(-1,1).normalized}static get BOTTOM_RIGHT(){return new e(1,1).normalized}static add(t,i){return new e(t.x+i.x,t.y+i.y)}static equals(t,i){return t.x===i.x&&t.y===i.y}static random(){return new e((Math.random()-.5)*2,(Math.random()-.5)*2)}static distanceBetween(t,i){return b(i.x-t.x,i.y-t.y)}_x;_y;constructor(t,i){this._x=t,this._y=i}get x(){return this._x}get y(){return this._y}get norm(){return b(this.x,this.y)}get normalized(){return this.norm===0?e.ZERO:this.divide(this.norm)}add(t){return e.add(this,t)}multiply(t){return new e(this.x*t,this.y*t)}divide(t){if(t===0)throw new Error("Division by zero");return new e(this.x/t,this.y/t)}opposite(){return new e(-this.x,-this.y)}equals(t){return e.equals(this,t)}rotate(t){return new e(this.x*Math.cos(t)-this.y*Math.sin(t),this.x*Math.sin(t)+this.y*Math.cos(t))}}const R=(o,t,i,s,n)=>{o.beginPath(),o.arc(t.x,t.y,i,0,Math.PI*2,!1),s!=="transparent"&&(o.fillStyle=s,o.fill()),n!=="transparent"&&(o.strokeStyle=n,o.lineWidth=3,o.stroke())},_=e.ZERO,N=1,I=10,P=50,S=0,H=100,F=1920*1080;class c{static get BLACK(){return new c(0,0,0)}static get WHITE(){return new c(255,255,255)}static get RED(){return new c(255,0,0)}static get GREEN(){return new c(0,255,0)}static get BLUE(){return new c(0,0,255)}static get YELLOW(){return new c(255,255,0)}static get CYAN(){return new c(0,255,255)}static get MAGENTA(){return new c(255,0,255)}static get ORANGE(){return new c(255,165,0)}static rgb(t,i,s){return new c(t,i,s,1)}static rgba(t,i,s,n){return new c(t,i,s,n)}static hsl(t,i,s){let n,r,a;if(i==0)n=r=a=s;else{let y=function(w,g,d){return d<0&&(d+=1),d>1&&(d-=1),d<.16666666666666666?w+(g-w)*6*d:d<.5?g:d<.6666666666666666?w+(g-w)*(.6666666666666666-d)*6:w},u=s<.5?s*(1+i):s+i-s*i,h=2*s-u;n=y(h,u,t+1/3),r=y(h,u,t),a=y(h,u,t-1/3)}return c.rgb(n*255,r*255,a*255)}static randomColor(){return c.hsl(Math.random(),1,.5)}static equals(t,i){return t.red===i.red&&t.green===i.green&&t.blue===i.blue&&t.alpha===i.alpha}_red;_green;_blue;_alpha;constructor(t,i,s,n){if(n===void 0&&(n=1),t<0||t>255||i<0||i>255||s<0||s>255||n<0||n>1)throw new Error("Incorrect rgba values");this._red=t,this._green=i,this._blue=s,this._alpha=n}get red(){return this._red}get green(){return this._green}get blue(){return this._blue}get alpha(){return this._alpha}toString(){return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`}}var p=void 0;window.addEventListener("mousemove",o=>{p=new e(o.x,o.y)});window.addEventListener("mouseout",()=>{p=void 0});class l{static bubbles=[];static resetBubbles(){l.bubbles=[]}static updateCollisions(){for(const t of l.bubbles)t.colliding=!1;for(let t=0;t<l.bubbles.length;t++)for(let i=t+1;i<l.bubbles.length;i++)l.colliding(l.bubbles[t],l.bubbles[i])&&(l.bubbles[t].colliding=!0,l.bubbles[i].colliding=!0)}static colliding(t,i){return e.distanceBetween(t.position,i.position)<=t.radius+i.radius}static resolveCollisions(t,i){const s=t.velocity.x-i.velocity.x,n=t.velocity.y-i.velocity.y,r=i.position.x-t.position.x,a=i.position.y-t.position.y;if(s*r+n*a>=0){const y=-Math.atan2(i.position.y-t.position.y,i.position.x-t.position.x),u=t.mass,h=i.mass,w=t.velocity.rotate(y),g=i.velocity.rotate(y),d=new e(w.x*(u-h)/(u+h)+g.x*2*h/(u+h),w.y),L=new e(g.x*(u-h)/(u+h)+w.x*2*h/(u+h),g.y),O=d.rotate(-y),T=L.rotate(-y);t.velocity=O,i.velocity=T}}_context;_position;_radius;_color;_velocity;_friction;_colliding;constructor(t,i,s,n,r,a){this._context=t,this._position=i,this._radius=s,this._color=n,this._velocity=r,this._friction=a,this._colliding=!1,l.bubbles.push(this)}get context(){return this._context}get position(){return this._position}set position(t){this._position=t}get radius(){return this._radius}get color(){return this._color}get velocity(){return this._velocity}set velocity(t){this._velocity=t}get friction(){return this._friction}get colliding(){return this._colliding}set colliding(t){this._colliding=t}get mass(){return 1}update(){this.updatePosition(),this.handleScreenEdgeCollision(),this.handleCollisions()}goTo(t){this.position=t}draw(){const t=p?Math.min(Math.max((-.002*e.distanceBetween(this.position,p)+1)*.75,0),1):void 0;R(this.context,this.position,this.radius,c.rgba(this.color.red,this.color.green,this.color.blue,t??0).toString(),this.color.toString())}updatePosition(){this.velocity=e.add(this.velocity,_),this.position=e.add(this.position,this.velocity)}handleScreenEdgeCollision(){this.position.y+this.radius>window.innerHeight?(this.position=new e(this.position.x,window.innerHeight-this.radius),this.velocity=new e(this.velocity.x,-Math.abs(this.velocity.y)).multiply(1-this.friction)):this.position.y-this.radius<0&&(this.position=new e(this.position.x,this.radius),this.velocity=new e(this.velocity.x,Math.abs(this.velocity.y)).multiply(1-this.friction)),this.position.x+this.radius>window.innerWidth?(this.position=new e(window.innerWidth-this.radius,this.position.y),this.velocity=new e(-Math.abs(this.velocity.x),this.velocity.y).multiply(1-this.friction)):this.position.x-this.radius<0&&(this.position=new e(this.radius,this.position.y),this.velocity=new e(Math.abs(this.velocity.x),this.velocity.y).multiply(1-this.friction))}handleCollisions(){for(const t of l.bubbles)t!==this&&l.colliding(t,this)&&l.resolveCollisions(this,t)}}const A=(o,t)=>new e(m(0,window.innerWidth-o*2)+o,m(0,window.innerHeight-t*2)+t),m=(o,t)=>{if(o>t)throw new Error("start > end");return Math.random()*(t-o)+o},v=document.getElementById("canvas");if(v===null)throw new Error("Canvas is null");const E=v.getContext("2d");if(E===null)throw new Error("Canvas context is null");let f;const x=()=>{v.width=window.innerWidth,v.height=window.innerHeight;const o=Math.round(H/F*(window.innerHeight*window.innerWidth));l.resetBubbles(),f=[];for(let t=0;t<o;t++){const i=m(I,P),s=new l(E,e.ZERO,i,c.randomColor(),e.random().multiply(N),S);let n=!1;do s.goTo(A(i,i)),l.updateCollisions(),s.colliding||(n=!0);while(!n);f.push(s)}f.sort((t,i)=>i.radius-t.radius)},M=()=>{requestAnimationFrame(M),E.clearRect(0,0,window.innerWidth,window.innerHeight);for(const o of f)o.update(),o.draw();l.updateCollisions()};window.addEventListener("resize",x);window.addEventListener("click",x);x();M();
